(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{213:function(t,e,a){"use strict";a.r(e);var l=a(0),i=Object(l.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"命名与配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命名与配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 命名与配置")]),t._v(" "),a("h2",{attrs:{id:"命名规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命名规范","aria-hidden":"true"}},[t._v("#")]),t._v(" 命名规范")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("首字母")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("其余字母")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("开头")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("间隔")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("结尾")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参考规范")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("API / API 宏")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("小写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("mad")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("驼峰")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("常规数据类型")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Mad")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("驼峰")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("自定数据类型")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Mad")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("_t")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("驼峰")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("结构体")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Mad")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("_t")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("驼峰")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("全局变量")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Mad")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("驼峰")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("静态全局变量")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("小写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("mad_")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("_")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("局部变量")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("常量宏")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大写")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Mad_")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("_")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("驼峰")])])])]),t._v(" "),a("h2",{attrs:{id:"配置说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置说明")]),t._v(" "),a("p",[t._v("MadOS 的配置分为两个部分，线程优先级分配与平台相关性配置。线程优先级分配需要使用者根据自建的功能线程之间的关联确立。平台相关性配置位于 MadArch.h 与 MacConfig.h 中:")]),t._v(" "),a("h3",{attrs:{id:"madarch-h"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#madarch-h","aria-hidden":"true"}},[t._v("#")]),t._v(" MadArch.h")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("必须")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("typedef ... ... ;")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("依据软件平台定义数据类型")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("DEF_SYS_TICK_FREQ")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("硬件 System Tick 时钟")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("DEF_TICKS_PER_SEC")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("内核 System Tick 频率(默认 1000)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("madCSInit()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("临界区初始化")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("madCSDecl()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("声明临界区变量")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("madCSLock(cpsr)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进入临界区")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("madCSUnlock(cpsr)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("离开临界区")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("madSched()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("切换线程(触发软件中断)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("madUnRdyMap(res, src)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("解析优先级")])])])]),t._v(" "),a("h3",{attrs:{id:"macconfig-h"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macconfig-h","aria-hidden":"true"}},[t._v("#")]),t._v(" MacConfig.h")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("必须")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_MEM_ALIGN_MASK")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("内存地址对其掩码(根据硬件平台确定)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_THREAD_NUM_MAX")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("最大线程数(使用者根据需要确定)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_IDLE_STK_SIZE")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("空闲线程堆栈尺寸")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_STATIST_STK_SIZE")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("统计线程堆栈尺寸")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_CPY_MEM_BY_DMA")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("利用硬件 DMA 实现内存的复制与设置"),a("sup",{staticClass:"footnote-ref"},[a("a",{attrs:{href:"#fn1",id:"fnref1"}},[t._v("[1]")])])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_LOG_INIT()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("初始化 MAD_LOG 所需的环境")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_LOG(...)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印信息")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAD_USE_IDLE_HOOK")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("使用空闲线程的钩子接口")])])])]),t._v(" "),a("hr",{staticClass:"footnotes-sep"}),t._v(" "),a("section",{staticClass:"footnotes"},[a("ol",{staticClass:"footnotes-list"},[a("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[a("p",[t._v("DMA需要依赖硬件中断，相关函数不可在临界区中调用。 "),a("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[t._v("↩︎")])])])])])])},[],!1,null,null,null);e.default=i.exports}}]);