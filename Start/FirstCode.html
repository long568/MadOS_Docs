<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初识源码 | MadOS</title>
    <meta name="description" content="极速构建智能硬件的最佳方案">
    <link rel="icon" href="/MadOS_Docs/logo.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    
    <link rel="preload" href="/MadOS_Docs/assets/css/0.styles.b54b5d4c.css" as="style"><link rel="preload" href="/MadOS_Docs/assets/js/app.07d8aa98.js" as="script"><link rel="preload" href="/MadOS_Docs/assets/js/2.d541e686.js" as="script"><link rel="preload" href="/MadOS_Docs/assets/js/3.3b19cd53.js" as="script"><link rel="prefetch" href="/MadOS_Docs/assets/js/10.7937b9c6.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/11.471ffffd.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/12.87a7258a.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/13.a0703c67.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/14.ec16be59.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/15.731a4bad.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/16.024e7949.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/17.7798adb7.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/18.7b189e90.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/19.8601cc54.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/20.eec72f8c.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/21.9c1b2872.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/22.fc3e2e2b.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/23.90b5ba97.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/24.b453840c.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/25.d3179f28.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/26.067b519f.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/27.19a19070.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/28.efb7bae5.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/4.cb485670.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/5.9540a72d.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/6.d164875a.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/7.bf0a393e.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/8.0f2a8b39.js"><link rel="prefetch" href="/MadOS_Docs/assets/js/9.3f050f58.js">
    <link rel="stylesheet" href="/MadOS_Docs/assets/css/0.styles.b54b5d4c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MadOS_Docs/" class="home-link router-link-active"><!----> <span class="site-name">MadOS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/MadOS_Docs/" class="nav-link">主页</a></div><div class="nav-item"><a href="/MadOS_Docs/Story/" class="nav-link">故事</a></div><div class="nav-item"><a href="/MadOS_Docs/Start/" class="nav-link router-link-active">教学</a></div><div class="nav-item"><a href="/MadOS_Docs/HandBook/" class="nav-link">手册</a></div><div class="nav-item"><a href="https://github.com/long568/MadOS" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/MadOS_Docs/" class="nav-link">主页</a></div><div class="nav-item"><a href="/MadOS_Docs/Story/" class="nav-link">故事</a></div><div class="nav-item"><a href="/MadOS_Docs/Start/" class="nav-link router-link-active">教学</a></div><div class="nav-item"><a href="/MadOS_Docs/HandBook/" class="nav-link">手册</a></div><div class="nav-item"><a href="https://github.com/long568/MadOS" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>初识源码</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/MadOS_Docs/Start/FirstCode.html#获取源码" class="sidebar-link">获取源码</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/MadOS_Docs/Start/FirstCode.html#展开源码" class="sidebar-link">展开源码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#目录结构" class="sidebar-link">目录结构</a></li></ul></li><li><a href="/MadOS_Docs/Start/FirstCode.html#切换项目" class="sidebar-link">切换项目</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/MadOS_Docs/Start/FirstCode.html#项目结构" class="sidebar-link">项目结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#cfgapp-mk" class="sidebar-link">CfgApp.mk</a></li><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#cfgdevs-c" class="sidebar-link">CfgDevs.c</a></li><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#cfguser-h" class="sidebar-link">CfgUser.h</a></li><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#makefile" class="sidebar-link">Makefile</a></li><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#main-c" class="sidebar-link">main.c</a></li></ul></li><li><a href="/MadOS_Docs/Start/FirstCode.html#编译项目" class="sidebar-link">编译项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#首次编译" class="sidebar-link">首次编译</a></li><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#普通编译" class="sidebar-link">普通编译</a></li><li class="sidebar-sub-header"><a href="/MadOS_Docs/Start/FirstCode.html#编译结果" class="sidebar-link">编译结果</a></li></ul></li><li><a href="/MadOS_Docs/Start/FirstCode.html#调试项目" class="sidebar-link">调试项目</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="初识源码"><a href="#初识源码" aria-hidden="true" class="header-anchor">#</a> 初识源码</h1> <h2 id="获取源码"><a href="#获取源码" aria-hidden="true" class="header-anchor">#</a> 获取源码</h2> <p><a href="https://github.com/long568/MadOS" target="_blank" rel="noopener noreferrer">MadOS 源码仓库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="tip custom-block"><p>初学者请选择master分支， 产品应用可选择经过严格验证的release版本。</p></div> <h2 id="展开源码"><a href="#展开源码" aria-hidden="true" class="header-anchor">#</a> 展开源码</h2> <p>将 <strong>MadOS</strong> 文件夹拖入 <strong>VSCode</strong> 中:
<img src="/MadOS_Docs/assets/img/FirstCode.2789bd71.png" alt="First Code"></p> <h3 id="目录结构"><a href="#目录结构" aria-hidden="true" class="header-anchor">#</a> 目录结构</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 开发者无需关心的内容以 n 标记。</span>
<span class="token comment"># 开发者可以参考的内容以 - 标记。</span>
<span class="token comment"># 开发者需要关心的内容以 y 标记。</span>
MadOS
├─ .vscode/        <span class="token comment"># n : VSCode 相关配置</span>
├─ app/            <span class="token comment"># y : 项目源码(其中每个子目录为一个项目)</span>
│  ├─ backup       <span class="token comment"># n : 旧版MadOS中的工程备份。</span>
│  ├─ lesson001/   <span class="token comment"># - : MadOS应用教程第一课，稍后我们会展开分析它。</span>
│  ├─ LoKernel/    <span class="token comment"># n : MadOS内核压力测试。</span>
│  ├─ LoNode/      <span class="token comment"># - : LoBoard开发板配套例程，不断完善中。</span>
│  └─ <span class="token punctuation">..</span>.          <span class="token comment"># - : 未来，我们将开放更多示例供开发者参考。</span>
├─ arch/           <span class="token comment"># n : MCU架构相关源码</span>
├─ build/          <span class="token comment"># n : 编译过程文件存放处(源码编译时自动生成)</span>
├─ device/         <span class="token comment"># n : 设备模块源码</span>
├─ driver/         <span class="token comment"># n : 驱动源码</span>
├─ kernel/         <span class="token comment"># n : 内核源码</span>
├─ library/        <span class="token comment"># n : 第三方库源码</span>
├─ tools/          <span class="token comment"># n : MadOS环境配置相关工具</span>
├─ .gitattributes  <span class="token comment"># n : git属性文件</span>
├─ .gitignore      <span class="token comment"># n : git过滤文件</span>
├─ app_switcher.sh <span class="token comment"># y : 工作App切换器，详见后述。</span>
├─ elibs.mk        <span class="token comment"># n : 第三方库配置</span>
├─ LICENSE         <span class="token comment"># n : 许可证</span>
├─ main.mk         <span class="token comment"># n : 真实主编译文件(临时生成)</span>
├─ Makefile        <span class="token comment"># n : 影子主编译文件</span>
└─ rules.mk        <span class="token comment"># n : 编译规则定义</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="tip custom-block"><ul><li>如果您是操作系统爱好者，也许对 <strong>arch、kernel、device、driver</strong> 中的内容会感兴趣。</li> <li>如果您是初学者、开发者，则只需关心 <strong>app</strong> ，即您的项目源码，以便快速实现想法。</li> <li>MadOS尚未包含某些驱动或第三方库，如有需要，您可:
<ul><li>联系 <a href="/MadOS_Docs/Story/">我们</a> 进行添加</li> <li>访问 <a href="http://club.digiic.com/Forum/PostIndex/s-72.html" target="_blank" rel="noopener noreferrer">社区<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 搜索一下
</li></ul></li></ul></div> <h2 id="切换项目"><a href="#切换项目" aria-hidden="true" class="header-anchor">#</a> 切换项目</h2> <p>在 <strong>MadOS</strong> 根目录下有名为 <strong>app_switcher.sh</strong> 的脚本，用以切换当前工作项目:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># export MADOS_WORKING_APP=LoKernel</span>
<span class="token comment"># export MADOS_WORKING_APP=LoNode</span>
<span class="token function">export</span> MADOS_WORKING_APP<span class="token operator">=</span>lesson001
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>将 <strong>lesson001</strong> 前的注释去掉，并注释余项目，然后在<strong>VSCode</strong>中运行 <strong>config</strong> 任务：</p> <div class="tip custom-block"><p>终端 -&gt; 运行任务 -&gt; config</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>MadOS is ready<span class="token punctuation">..</span>. Enjoy yourself<span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <h2 id="项目结构"><a href="#项目结构" aria-hidden="true" class="header-anchor">#</a> 项目结构</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>lesson001
├─ CfgApp.mk <span class="token comment"># 项目配置</span>
├─ CfgDevs.c <span class="token comment"># 设备列表</span>
├─ CfgUser.h <span class="token comment"># 用户配置</span>
├─ main.c    <span class="token comment"># 工程源码(主文件)</span>
└─ Makefile  <span class="token comment"># 编译文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="tip custom-block"><ul><li>如果您是初学者、开发者，只需关心 <strong>main.c</strong> ，即您的项目源码，以便快速实现想法。</li> <li>为便于后续学习，我们依然对每个文件进行初步介绍，您可快速浏览，以备不时之需。</li></ul></div> <h3 id="cfgapp-mk"><a href="#cfgapp-mk" aria-hidden="true" class="header-anchor">#</a> CfgApp.mk</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># MCU架构配置</span>
<span class="token keyword">export</span> MCU_ARCH     <span class="token operator">=</span> armv7-m
<span class="token keyword">export</span> MCU_VER      <span class="token operator">=</span> cortex-m3
<span class="token keyword">export</span> MCU_PREFIX   <span class="token operator">=</span> stm32f10x
<span class="token keyword">export</span> MCU_SUFFIX   <span class="token operator">=</span> cl
<span class="token keyword">export</span> MCU_RAM_SIZE <span class="token operator">=</span> 0x10000
<span class="token keyword">export</span> MCU_FLS_SIZE <span class="token operator">=</span> 256K
<span class="token comment"># 工程特定编译选项</span>
<span class="token keyword">export</span> PRJ_CFLAGS  <span class="token operator">=</span> -Os
<span class="token keyword">export</span> PRJ_LDFLAGS <span class="token operator">=</span> --specs<span class="token operator">=</span>nano.specs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="cfgdevs-c"><a href="#cfgdevs-c" aria-hidden="true" class="header-anchor">#</a> CfgDevs.c</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 第一课中未启用任何设备，设备列表为空。</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;MadDev.h&quot;</span></span>
MadDev_t <span class="token operator">*</span>DevsList<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    MAD_DEVP_END
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="cfguser-h"><a href="#cfguser-h" aria-hidden="true" class="header-anchor">#</a> CfgUser.h</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// MadOS支持最大256个任务优先级，数字越大优先级越低。</span>
<span class="token comment">// 开发者需根据自身需要进行配置，并避开MadOS内部已使用的优先级。</span>
<span class="token comment">// 最低优先级为空闲线程使用，次低优先级为统计线程(可选)使用，另建议保留优先级 0。</span>
<span class="token keyword">enum</span> <span class="token punctuation">{</span>
   THREAD_PRIO_SYS_RUNNING <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token comment">// 标记系统正在运行的线程(周期性闪烁Led)</span>
   THREAD_PRIO_DRIVER_ETH        <span class="token comment">// 编译网络驱动层所需</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 通常，中断优先级都与驱动相关。</span>
<span class="token comment">// 中断优先级统一于此处枚举，便于高级开发者查阅、更改。</span>
<span class="token comment">// 优先级1、15为MadOS内部保留，其余优先级可供项目使用。</span>
<span class="token keyword">enum</span> <span class="token punctuation">{</span>
    ISR_PRIO_SYSTICK    <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    ISR_PRIO_ARCH_MEM<span class="token punctuation">,</span>
    ISR_PRIO_DISK<span class="token punctuation">,</span>
	ISR_PRIO_ETH<span class="token punctuation">,</span>
    ISR_PRIO_DEV_USART<span class="token punctuation">,</span>
    ISR_PRIO_TTY_USART<span class="token punctuation">,</span>
    ISR_PRIO_PENDSV     <span class="token operator">=</span> <span class="token number">15</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 堆空间定义(硬件相关)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> MAD_OS_STACK_SIZE (56 * 1024)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="makefile"><a href="#makefile" aria-hidden="true" class="header-anchor">#</a> Makefile</h3> <div class="language-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token comment"># 将项目路径下所有.c文件输入编译系统。</span>
<span class="token keyword">export</span> TEMP <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_DIR<span class="token punctuation">)</span>/app
ASMS <span class="token operator">=</span>
SRCS <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token keyword">wildcard</span> *.c<span class="token punctuation">)</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>RULES<span class="token punctuation">)</span>
<span class="token symbol">after_all</span><span class="token punctuation">:</span>
	<span class="token variable">$</span><span class="token punctuation">(</span>LD<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token keyword">wildcard</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_DIR<span class="token punctuation">)</span>/app/*.o<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>LDFLAGS<span class="token punctuation">)</span> -o <span class="token variable">$</span><span class="token punctuation">(</span>TARGET<span class="token punctuation">)</span>.elf
	<span class="token variable">$</span><span class="token punctuation">(</span>OCPY<span class="token punctuation">)</span> -O ihex <span class="token variable">$</span><span class="token punctuation">(</span>TARGET<span class="token punctuation">)</span>.elf <span class="token variable">$</span><span class="token punctuation">(</span>TARGET<span class="token punctuation">)</span>.hex
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="main-c"><a href="#main-c" aria-hidden="true" class="header-anchor">#</a> main.c</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;MadOS.h&quot;</span>   </span><span class="token comment">// MadOS核心头文件</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;CfgUser.h&quot;</span> </span><span class="token comment">// 用户配置头文件</span>

<span class="token comment">// 运行时堆栈 (8Bytes-Align for Float)</span>
MadAligned_t MadStack<span class="token punctuation">[</span>MAD_OS_STACK_SIZE <span class="token operator">/</span> MAD_MEM_ALIGN<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 函数声明</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">madStartup</span><span class="token punctuation">(</span>MadVptr exData<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 初始化</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   
<span class="token punctuation">}</span>

<span class="token comment">// 线程</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">madStartup</span><span class="token punctuation">(</span>MadVptr exData<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="运行时堆栈"><a href="#运行时堆栈" aria-hidden="true" class="header-anchor">#</a> 运行时堆栈</h4> <p>运行时堆栈的空间由硬件决定。<br>
任何项目的运行时堆栈皆可由下式定义:</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>MadAligned_t MadStack<span class="token punctuation">[</span>MAD_OS_STACK_SIZE <span class="token operator">/</span> MAD_MEM_ALIGN<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="初始化"><a href="#初始化" aria-hidden="true" class="header-anchor">#</a> 初始化</h4> <p>下述初始化流程可适用于任何项目。<br>
启动MadOS后，程序会跳转至新建线程中运行。<br>
第一课中，我们只建立一个线程，意在简明，线程优先级取 0。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">madCopyVectorTab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">// 将中断向量表复制到RAM中</span>
    <span class="token function">madOSInit</span><span class="token punctuation">(</span>MadStack<span class="token punctuation">,</span> MAD_OS_STACK_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// MadOS初始化</span>
    <span class="token function">madThreadCreate</span><span class="token punctuation">(</span>madStartup<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> MAD_OS_STACK_SIZE <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 新建线程</span>
    <span class="token function">madOSRun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">// 启动MadOS</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">// !永远不该运行至此!</span>
<span class="token punctuation">}</span> <span class="token comment">// 以上是MadOS的启动过程，初学者不必深究，随后的学习中会逐步了解其原理</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="线程"><a href="#线程" aria-hidden="true" class="header-anchor">#</a> 线程</h4> <p>开发者在线程中实现想法，每个线程都是一个无限循环。</p> <div class="tip custom-block"><p>使用线程管理API，可以新建、挂起、恢复、删除线程。</p></div> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">madStartup</span><span class="token punctuation">(</span>MadVptr exData<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    GPIO_InitTypeDef pin<span class="token punctuation">;</span>  <span class="token comment">// GPIO临时变量</span>
    MadBool flag <span class="token operator">=</span> MFALSE<span class="token punctuation">;</span> <span class="token comment">// LED状态标志</span>
	<span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>exData<span class="token punctuation">;</span>          <span class="token comment">// 防止编译器产生警告</span>

    <span class="token comment">// 初始化GPIOE-1，用于控制LED开关。</span>
    <span class="token function">RCC_APB2PeriphClockCmd</span><span class="token punctuation">(</span>RCC_APB2Periph_GPIOE<span class="token punctuation">,</span> ENABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pin<span class="token punctuation">.</span>GPIO_Mode  <span class="token operator">=</span> GPIO_Mode_Out_PP<span class="token punctuation">;</span>
	pin<span class="token punctuation">.</span>GPIO_Pin   <span class="token operator">=</span> GPIO_Pin_1<span class="token punctuation">;</span>
	pin<span class="token punctuation">.</span>GPIO_Speed <span class="token operator">=</span> GPIO_Speed_50MHz<span class="token punctuation">;</span>
	<span class="token function">GPIO_Init</span><span class="token punctuation">(</span>GPIOE<span class="token punctuation">,</span> <span class="token operator">&amp;</span>pin<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化SysTick，脉动间隔1ms。</span>
    <span class="token function">madInitSysTick</span><span class="token punctuation">(</span>DEF_SYS_TICK_FREQ<span class="token punctuation">,</span> DEF_TICKS_PER_SEC<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 线程主循环</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">madTimeDly</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 延时500ms</span>
        flag <span class="token operator">=</span> <span class="token operator">!</span>flag<span class="token punctuation">;</span>    <span class="token comment">// LED状态取反</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token function">GPIO_ResetBits</span><span class="token punctuation">(</span>GPIOE<span class="token punctuation">,</span> GPIO_Pin_1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 开灯</span>
        <span class="token keyword">else</span>     <span class="token function">GPIO_SetBits</span><span class="token punctuation">(</span>GPIOE<span class="token punctuation">,</span> GPIO_Pin_1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 关灯</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="tip custom-block"><ul><li>无OS环境，通常使用空循环方式延时:
<ul><li>无法精准延时</li> <li>大量浪费MCU时间</li></ul></li></ul> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>MadOS环境，<strong>SysTick</strong> 初始化后提供了精准的<strong>心跳</strong>，根据<strong>心跳</strong>的频率可得精准延时。
<ul><li>运行30天，实测误差小于1微秒(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>u</mi><mi>s</mi><mo>=</mo><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>6</mn></mrow></msup><mi>s</mi></mrow><annotation encoding="application/x-tex">1 us = 10^{-6} s</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">6</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">s</span></span></span></span>)</li></ul></li></ul> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token function">madTimeDly</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通常，madTimeDly以ms为单位。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <h2 id="编译项目"><a href="#编译项目" aria-hidden="true" class="header-anchor">#</a> 编译项目</h2> <h3 id="首次编译"><a href="#首次编译" aria-hidden="true" class="header-anchor">#</a> 首次编译</h3> <p>在VSCode中运行 <strong>rebuild</strong> 任务</p> <div class="tip custom-block"><p>终端 -&gt; 运行任务 -&gt; rebuild</p></div> <h3 id="普通编译"><a href="#普通编译" aria-hidden="true" class="header-anchor">#</a> 普通编译</h3> <p>在VSCode中运行 <strong>build</strong> 任务</p> <div class="tip custom-block"><p>终端 -&gt; 运行任务 -&gt; build</p></div> <h3 id="编译结果"><a href="#编译结果" aria-hidden="true" class="header-anchor">#</a> 编译结果</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">..</span>.
Building <span class="token punctuation">..</span>. Done.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>编译成功后，MadOS根目录下会生成 <strong>build</strong> 文件夹：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>build
├─ app/         <span class="token comment"># 存放项目相关编译过程文件</span>
├─ arch/        <span class="token comment"># 存放芯片相关编译过程文件</span>
├─ dev/         <span class="token comment"># 存放设备相关编译过程文件</span>
├─ drv/         <span class="token comment"># 存放驱动相关编译过程文件</span>
├─ kernel/      <span class="token comment"># 存放内核相关编译过程文件</span>
├─ HiMadOS.elf  <span class="token comment"># 调试文件</span>
├─ HiMadOS.hex  <span class="token comment"># 烧录文件</span>
├─ HiMadOS.ld   <span class="token comment"># 链接脚本</span>
├─ libarch.a    <span class="token comment"># 芯片库文件</span>
├─ libdev.a     <span class="token comment"># 设备库文件</span>
├─ libdrv.a     <span class="token comment"># 驱动库文件</span>
└─ libkernel.a  <span class="token comment"># 内核库文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="tip custom-block"><p><strong>build</strong> 内生成的目录 / 文件与项目配置有关，开发者无需关心。</p></div> <h2 id="调试项目"><a href="#调试项目" aria-hidden="true" class="header-anchor">#</a> 调试项目</h2> <p>将 <strong>STLink</strong> 分别与 <strong>LoBoard</strong>(开发板)、电脑连接，并给 <strong>LoBoard</strong> 通电:<br> <img src="/MadOS_Docs/assets/img/HWConnection.bed2b9ec.jpeg" alt="Hardware Connection"></p> <div class="tip custom-block"><ul><li>MacOSX / Ubuntu 需安装 <strong>libusb</strong> 。</li> <li>Windows 需安装 <strong>ST</strong> 官方提供的<a href="https://www.st.com/content/st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-utilities/stsw-link009.html" target="_blank" rel="noopener noreferrer">STLink驱动<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li> <li>如果您需要购买 <strong>STLink</strong> 或 <strong>LoBoard</strong> ，请移步至我们的<a href="https://shop108272841.taobao.com/" target="_blank" rel="noopener noreferrer">小店<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li></ul></div> <p>在 <strong>VSCode</strong> 中启动调试:<br> <img src="/MadOS_Docs/assets/img/StartDebug.bfb73ab6.png" alt="Start Debug"><br>
正常启动调试后，程序会暂停在 <strong>main</strong> 函数起始位置:
<img src="/MadOS_Docs/assets/img/Debugging.5d34cc26.png" alt="Debugging"></p> <div class="tip custom-block"><p>按 <strong>F5</strong> 或 点击调试工具栏中的 <strong>继续</strong> 按钮，程序继续执行。<br> <img src="data:image/png;base64,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" alt="DebugTools"></p></div> <p><video id="video" controls="controls" preload="none" poster="http://om2bks7xs.bkt.clouddn.com/2017-08-26-Markdown-Advance-Video.jpg"><source id="mp4" src="/MadOS_Docs/assets/media/Flashing.40f54502.mp4" type="video/mp4"></video></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/MadOS_Docs/assets/js/app.07d8aa98.js" defer></script><script src="/MadOS_Docs/assets/js/2.d541e686.js" defer></script><script src="/MadOS_Docs/assets/js/3.3b19cd53.js" defer></script>
  </body>
</html>
